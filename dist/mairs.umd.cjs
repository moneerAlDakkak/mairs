(function(C,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(C=typeof globalThis<"u"?globalThis:C||self,e(C.mairs={},C.Vue))})(this,function(C,e){"use strict";const K=["dir"],X={name:"MP"},Y=e.defineComponent({...X,props:{math:{type:Boolean},autoDirection:{type:Boolean},bordered:{type:Boolean},dashed:{type:Boolean}},setup(t,{expose:y}){const l=t,n=/[\u0621-\u064A]/;let d=e.ref("ltr"),s=e.ref("");const i=e.computed(()=>{let c=["MP"];return l.bordered&&c.push("m-bordered"),l.dashed&&c.push("m-dashed"),c.join(" ")});let p=e.ref(null);function m(){return s.value}function B(){s.value=p.value.innerText}function M(){p.value.innerText=s.value}function b(){n.test(p.value.textContent.trim()[0])?d.value="rtl":d.value="ltr"}function g(){window&&window.MathJax&&(window.MathJax.Hub.Config({tex2jax:{inlineMath:[["$","$"]],displayMath:[["$$","$$"]],processEscapes:!0,processEnvironments:!0},displayAlign:"center","HTML-CSS":{styles:{".MathJax_Display":{margin:0}}}}),window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,p.value]))}return e.onBeforeMount(()=>{if(document&&l.math&&!document.getElementById("MATHJAX")){const c=document.createElement("script");c.id="MATHJAX",c.src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS_HTML",document.body.appendChild(c)}}),e.onMounted(()=>{B(),l.autoDirection&&b(),l.math&&setTimeout(g,400)}),y({getRawContent:m}),(c,r)=>(e.openBlock(),e.createElementBlock("p",{class:e.normalizeClass(e.unref(i)),ref_key:"mp",ref:p,dir:e.unref(d),onFocus:r[0]||(r[0]=f=>M()),onBlur:r[1]||(r[1]=f=>t.math?g():null),onInput:r[2]||(r[2]=f=>{B(),t.autoDirection&&b()})},[e.renderSlot(c.$slots,"default",{},void 0,!0)],42,K))}}),Xe="",w=(t,y)=>{const l=t.__vccOpts||t;for(const[n,d]of y)l[n]=d;return l},S=w(Y,[["__scopeId","data-v-863fdd37"]]),G=["onClick"],W={name:"MNotes",components:{MP:S}},Q=e.defineComponent({...W,props:{animation:null,timeout:null,position:{default:"right"},autoDirection:{type:Boolean},math:{type:Boolean}},setup(t,{expose:y}){const l=t,n=e.ref([]),d=e.ref(0);function s(i){i.id=++d.value,n.value.push(i),(i.timeout||l.timeout)&&setTimeout(()=>{n.value.splice(n.value.findIndex(p=>p.id==i.id),1)},i.timeout||l.timeout)}return y({add:s}),(i,p)=>(e.openBlock(),e.createElementBlock("aside",{class:e.normalizeClass(`MNOTES m-${t.position}`),style:e.normalizeStyle(n.value.length?"":"pointer-events: none")},[e.createVNode(e.TransitionGroup,{name:t.animation?t.animation:`slide-${t.position}`},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.value,m=>(e.openBlock(),e.createElementBlock("div",{key:m.title,class:e.normalizeClass(`MNOTE ${m.status?"m-"+m.status:""}`),onClick:B=>m.handler?m.handler():null},[e.createElementVNode("b",null,[m.icon?(e.openBlock(),e.createElementBlock("i",{key:0,class:e.normalizeClass(m.icon)},null,2)):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString(m.title),1)]),e.createVNode(S,{autoDirection:t.autoDirection,math:t.math},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(m.message),1)]),_:2},1032,["autoDirection","math"])],10,G))),128))]),_:1},8,["name"])],6))}}),Ye="",_=w(Q,[["__scopeId","data-v-65b5c17d"]]),Z=t=>(e.pushScopeId("data-v-9dff2b2d"),t=t(),e.popScopeId(),t),ee=["disabled"],te={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},ne=[Z(()=>e.createElementVNode("path",{fill:"currentColor",d:"M222.7 32.1c5 16.9-4.6 34.8-21.5 39.8C121.8 95.6 64 169.1 64 256c0 106 86 192 192 192s192-86 192-192c0-86.9-57.8-160.4-137.1-184.1c-16.9-5-26.6-22.9-21.5-39.8s22.9-26.6 39.8-21.5C434.9 42.1 512 140 512 256c0 141.4-114.6 256-256 256S0 397.4 0 256C0 140 77.1 42.1 182.9 10.6c16.9-5 34.8 4.6 39.8 21.5z"},null,-1))],le={name:"MButton"},ae=e.defineComponent({...le,props:{bordered:{type:Boolean},rounded:{type:Boolean},safe:{type:Boolean},warning:{type:Boolean},danger:{type:Boolean},loading:{type:Boolean},unstyled:{type:Boolean}},setup(t){const y=t,l=e.computed(()=>({"m-safe":y.safe,"m-warning":y.warning,"m-danger":y.danger})),n=e.computed(()=>({MBUTTON:!y.unstyled,"m-bordered":y.bordered,"m-rounded":y.rounded}));return(d,s)=>(e.openBlock(),e.createElementBlock("button",{class:e.normalizeClass({...e.unref(l),...e.unref(n)}),disabled:t.loading},[t.loading?(e.openBlock(),e.createElementBlock("svg",te,ne)):e.createCommentVNode("",!0),e.renderSlot(d.$slots,"default",{},void 0,!0)],10,ee))}}),We="",E=w(ae,[["__scopeId","data-v-9dff2b2d"]]),oe={name:"MMenu"},re=e.defineComponent({...oe,props:{unstyled:{type:Boolean}},setup(t,{expose:y}){const l=e.ref(!0),n=e.ref(!1),d=e.ref(-99999999),s=e.ref(-99999999),i=e.ref(0),p=e.ref(0),m=e.ref();let B;e.onMounted(()=>{var g;(g=m.value)==null||g.show(),setTimeout(()=>{var c,r;i.value=Math.trunc(((c=m.value)==null?void 0:c.getBoundingClientRect().width)||0),p.value=Math.trunc(((r=m.value)==null?void 0:r.getBoundingClientRect().height)||0),l.value=!1},1e3),B=new MutationObserver(c=>{var r;for(let f of c)f.type==="attributes"&&f.attributeName==="open"&&(l.value=((r=m.value)==null?void 0:r.hasAttribute("open"))||!1)}),m.value&&B.observe(m.value,{attributes:!0})}),e.onUnmounted(()=>{B.disconnect()});function M(g){var c;g.clientX+i.value>=window.innerWidth?d.value=g.clientX-i.value:d.value=g.clientX,g.clientY+p.value>=window.innerHeight?s.value=g.clientY-p.value:s.value=g.clientY,(c=m.value)==null||c.show(),l.value=!0}function b(){n.value=!0,m.value&&(m.value.open=!1),setTimeout(()=>{var g;m.value&&(m.value.open=!0),(g=m.value)==null||g.close(),n.value=!1},500)}return y({show:M,close:b}),(g,c)=>e.withDirectives((e.openBlock(),e.createElementBlock("dialog",{onClick:c[1]||(c[1]=e.withModifiers(r=>b(),["self"])),class:e.normalizeClass({MMENU:!t.unstyled,"m-hiding":n.value}),ref_key:"MMENU",ref:m,style:e.normalizeStyle({top:`${s.value}px`,left:`${d.value}px`})},[(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.withDirectives(e.createElementVNode("div",{class:"m-overlay",onClick:c[0]||(c[0]=r=>b())},null,512),[[e.vShow,l.value]])])),e.createElementVNode("div",null,[e.renderSlot(g.$slots,"default",{},void 0,!0)])],6)),[[e.vShow,l.value]])}}),Qe="",Ze="",I=w(re,[["__scopeId","data-v-a616cf92"]]),ie={key:0},se={key:2},de={name:"MPopup",components:{MButton:E,MP:S}},ce=e.defineComponent({...de,props:{required:{type:Boolean},blurred:{type:Boolean},mobile:{type:Boolean},unstyled:{type:Boolean}},setup(t,{expose:y}){const l=t;let n=e.ref({});const d=e.ref(),s=e.ref(!1),i=e.ref(!1);let p,m=e.ref(void 0),B=e.ref(void 0);e.onMounted(()=>{p=new MutationObserver(c=>{var r;for(let f of c)f.type==="attributes"&&f.attributeName==="open"&&(s.value=((r=d.value)==null?void 0:r.hasAttribute("open"))||!1)}),d.value&&p.observe(d.value,{attributes:!0})}),e.onUnmounted(()=>{p.disconnect()});function M(c){var r;return c&&(n.value=c),(r=d.value)==null||r.showModal(),s.value=!0,new Promise((f,k)=>{m.value=f,B.value=k})}function b(){if(!l.required)return g(!1)}function g(c){m.value(c),i.value=!0,d.value&&(d.value.open=!1),setTimeout(()=>{var r;d.value&&(d.value.open=!0),(r=d.value)==null||r.close(),i.value=!1},500)}return y({show:M,close:b,respond:g}),(c,r)=>e.withDirectives((e.openBlock(),e.createElementBlock("dialog",{class:e.normalizeClass({MPOPPUP:!t.unstyled,"m-blurred":t.blurred,"m-mobile":t.mobile,"m-hiding":i.value}),ref_key:"MPOP",ref:d,onClick:r[2]||(r[2]=e.withModifiers(f=>b(),["self"]))},[e.createElementVNode("div",null,[e.unref(n).title?(e.openBlock(),e.createElementBlock("b",ie,e.toDisplayString(e.unref(n).title),1)):e.createCommentVNode("",!0),e.unref(n).message?(e.openBlock(),e.createBlock(S,{key:1},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(n).message),1)]),_:1})):e.createCommentVNode("",!0),e.renderSlot(c.$slots,"default",{},void 0,!0),e.unref(n).cancel||e.unref(n).confirm?(e.openBlock(),e.createElementBlock("section",se,[e.unref(n).cancel?(e.openBlock(),e.createBlock(E,{key:0,bordered:"",onClick:r[0]||(r[0]=f=>g(!1))},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(n).cancel),1)]),_:1})):e.createCommentVNode("",!0),e.unref(n).confirm?(e.openBlock(),e.createBlock(E,{key:1,onClick:r[1]||(r[1]=f=>g(!0))},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(n).confirm),1)]),_:1})):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])],2)),[[e.vShow,s.value]])}}),et="",D=w(ce,[["__scopeId","data-v-35f1cbe0"]]),ue=["open"],me=["onClick"],fe={name:"MDrop"},pe=e.defineComponent({...fe,props:{open:{type:Boolean},unstyled:{type:Boolean},unclicked:{type:Boolean}},setup(t,{expose:y}){const l=t;let n=e.ref(!1),d=e.ref(!1),s=e.ref(null),i=e.ref(null),p=e.ref(null);function m(){l.unclicked||(n.value||!i.value.open?b():(d.value||i.value.open)&&M())}function B(){d.value=!0;const c="0px",r=`${p.value.offsetHeight}px`;s.value&&s.value.cancel(),s.value=p.value.animate({height:[c,r]},{duration:400,easing:"ease-out"}),s.value.onfinish=()=>g(!0),s.value.oncancel=()=>d.value=!1}function M(){n.value=!0;const c=`${p.value.offsetHeight}px`,r=0;s.value&&s.value.cancel(),s.value=p.value.animate({height:[c,r]},{duration:400,easing:"ease-out"}),s.value.onfinish=()=>g(!1),s.value.oncancel=()=>n.value=!1}function b(){p.value.style.height=`${p.value.offsetHeight}px`,i.value.open=!0,window.requestAnimationFrame(()=>B())}function g(c){try{i.value.open=c,s.value=null,n.value=!1,d.value=!1,p.value.style.height=""}catch{return}}return y({openContent:b,shrink:M}),(c,r)=>(e.openBlock(),e.createElementBlock("details",{class:e.normalizeClass({MDROP:!t.unstyled}),ref_key:"detailsEl",ref:i,open:t.open},[e.createElementVNode("summary",{ref:"summary",onClick:e.withModifiers(m,["prevent"])},[e.renderSlot(c.$slots,"summary",{},void 0,!0)],8,me),e.createElementVNode("section",{ref_key:"contentEl",ref:p},[e.renderSlot(c.$slots,"default",{},void 0,!0)],512)],10,ue))}}),tt="",v=w(pe,[["__scopeId","data-v-2a236634"]]),ge=["onClick"],ye=e.defineComponent({__name:"MSlider",props:{carousel:{type:Boolean},infinite:{type:Boolean},stacked:{type:Boolean},changeTime:null,pointers:{type:Boolean}},setup(t,{expose:y}){const l=t,n=e.ref(0),d=e.ref(0),s=e.ref(null),i=e.ref(null),p=e.ref(null);function m(r){(r<d.value&&r>0||l.infinite)&&(n.value=r)}function B(){!l.carousel||(n.value<d.value||l.infinite)&&n.value++}function M(){!l.carousel||(n.value>0||l.infinite)&&n.value--}e.watch(n,r=>b(r));function b(r){var f,k,$,u,a,o,h,V,x,L,z,j,U,R,J,q;(k=(f=i.value)==null?void 0:f.querySelector(".m-shown-slide"))==null||k.classList.remove("m-shown-slide"),(u=($=i.value)==null?void 0:$.querySelector(".m-previous-slide"))==null||u.classList.remove("m-previous-slide"),(o=(a=i.value)==null?void 0:a.querySelector(".m-next-slide"))==null||o.classList.remove("m-next-slide"),(V=(h=i.value)==null?void 0:h.children[g(r-1)])==null||V.classList.add("m-previous-slide"),(L=(x=i.value)==null?void 0:x.children[g(r+1)])==null||L.classList.add("m-next-slide"),(j=(z=i.value)==null?void 0:z.children[g(r)])==null||j.classList.add("m-shown-slide"),(R=(U=p.value)==null?void 0:U.querySelector(".m-active"))==null||R.classList.remove("m-active"),(q=(J=p.value)==null?void 0:J.children[g(r)])==null||q.classList.add("m-active")}function g(r){return(r%d.value+d.value)%d.value}const c=e.ref(null);return e.onMounted(()=>{var r;d.value=((r=i.value)==null?void 0:r.childElementCount)||0,l.carousel&&b(0),l.changeTime&&l.carousel&&(c.value=setInterval(B,l.changeTime))}),e.onUpdated(()=>{var r;d.value=((r=i.value)==null?void 0:r.childElementCount)||0,l.carousel&&b(0)}),e.onUnmounted(()=>{c.value=null}),y({goTo:m,next:B,previous:M}),(r,f)=>(e.openBlock(),e.createElementBlock("section",{ref_key:"slider",ref:s,class:e.normalizeClass({MSLIDER:!0,"m-stacked":t.stacked,"m-carousel":t.carousel})},[e.createVNode(E,{"aria-label":"slider-previous",onClick:f[0]||(f[0]=k=>M())}),e.createElementVNode("div",{class:"MTRACK",ref_key:"track",ref:i},[e.renderSlot(r.$slots,"default",{},void 0,!0)],512),e.createVNode(E,{"aria-label":"slider-next",onClick:f[1]||(f[1]=k=>B())}),t.carousel&&t.pointers?(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"pointersEl",ref:p,class:"MPOINTERS"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(new Array(d.value),(k,$)=>(e.openBlock(),e.createElementBlock("span",{onClick:u=>m($)},null,8,ge))),256))],512)):e.createCommentVNode("",!0)],2))}}),nt="",A=w(ye,[["__scopeId","data-v-ffd3b7ce"]]),Me={class:"MFORM"},ke={name:"MForm"},O=e.defineComponent({...ke,setup(t,{expose:y}){const l=e.reactive([]);function n(i){l.includes(i)||l.push(i)}function d(i){l.splice(l.findIndex(p=>p==i),1)}function s(){return l.length===0}return y({registerToInvalids:n,removeFromInvalids:d,checkValidation:s}),(i,p)=>(e.openBlock(),e.createElementBlock("form",Me,[e.renderSlot(i.$slots,"default")]))}}),he=["for"],Be=["dir","type","value","id","disabled"],be={key:0,class:"m-valid"},Ce={key:1,class:"m-invalid"},$e={name:"MInput",inheritAttrs:!1},Ve=e.defineComponent({...$e,props:{id:null,modelValue:null,pattern:null,invalidMessage:null,validMessage:null,autoDirection:{type:Boolean},bordered:{type:Boolean},type:{default:"text"},label:null,disabled:{type:Boolean},shrinked:{type:Boolean},transformer:null,unstyled:{type:Boolean}},emits:["update:modelValue"],setup(t,{expose:y,emit:l}){const n=t;let d=e.ref(!1),s=e.ref(n.pattern?n.pattern.test(n.modelValue):!0),i=e.ref("");const p=/[\u0621-\u064A]/;let m=e.ref({value:""});const B=e.getCurrentInstance(),M=e.computed(()=>{var k;let f=B==null?void 0:B.parent;for(;f&&((k=f.vnode.el)==null?void 0:k.nodeName)!="FORM";)f=f.parent;return f});e.onMounted(()=>{var f;n.pattern&&!s.value&&((f=M==null?void 0:M.value)==null||f.exposed.registerToInvalids(n.id)),n.autoDirection&&b()});function b(){p.test(m.value.value[0])?i.value="rtl":i.value="ltr"}function g(){return s.value}function c(f){var k,$;!n.pattern||(n.pattern.test(f.toString())?(s.value=!0,(k=M==null?void 0:M.value)==null||k.exposed.removeFromInvalids(n.id)):(s.value=!1,($=M==null?void 0:M.value)==null||$.exposed.registerToInvalids(n.id)))}function r(f){d.value=!0;let k=f.currentTarget.value;n.transformer&&(k=n.transformer(k)),l("update:modelValue",k),n.autoDirection&&b(),c(f.currentTarget.value)}return y({isValid:g}),(f,k)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass({MINPUT:!t.unstyled,"m-bordered":t.bordered,"m-disabled":t.disabled,"m-shrinked":t.shrinked})},[t.label?(e.openBlock(),e.createElementBlock("label",{key:0,for:t.id},e.toDisplayString(t.label),9,he)):e.createCommentVNode("",!0),e.createElementVNode("div",null,[e.renderSlot(f.$slots,"start",{},void 0,!0),e.createElementVNode("input",e.mergeProps({dir:e.unref(i),ref_key:"input",ref:m},f.$attrs,{type:t.type,value:t.modelValue,id:t.id,disabled:t.disabled,onInput:k[0]||(k[0]=$=>r($))}),null,16,Be),e.renderSlot(f.$slots,"end",{},void 0,!0)]),e.createElementVNode("div",null,[t.pattern&&e.unref(d)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.unref(s)&&t.validMessage?(e.openBlock(),e.createElementBlock("span",be,e.toDisplayString(t.validMessage),1)):e.createCommentVNode("",!0),!e.unref(s)&&t.invalidMessage?(e.openBlock(),e.createElementBlock("span",Ce,e.toDisplayString(t.invalidMessage),1)):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0)])],2))}}),lt="",T=w(Ve,[["__scopeId","data-v-de3d049e"]]),xe={name:"MSection"},F=e.defineComponent({...xe,props:{forward:{type:Boolean}},setup(t){const y=t;let l=e.ref(null),n;return e.onMounted(()=>{n=new IntersectionObserver(d=>{d.forEach(s=>{const p=Math.round(s.intersectionRatio*10)*10;s.isIntersecting?(s.target.setAttribute("data-m-visible",`${p}%`),s.target.style.setProperty("--m-visibility-ratio",`${p}%`)):y.forward||s.target.removeAttribute("data-m-visible")})},{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}),n.observe(l.value)}),e.onUnmounted(()=>{n.disconnect()}),(d,s)=>(e.openBlock(),e.createElementBlock("section",{ref_key:"sectionEl",ref:l,class:"MSECTION"},[e.renderSlot(d.$slots,"default")],512))}}),we=["for"],Ee=["dir","id","rows","maxlength","disabled"],Se={key:0,class:"m-valid"},ve={key:1,class:"m-invalid"},Te={key:1},Ne={name:"MText",inheritAttrs:!1},_e=e.defineComponent({...Ne,props:{id:null,modelValue:null,textValue:null,autoDirection:{type:Boolean},bordered:{type:Boolean},label:null,tags:{type:Boolean},maxlength:null,pattern:null,invalidMessage:null,validMessage:null,disabled:{type:Boolean},rows:null,includedHtml:null,transformer:null,unstyled:{type:Boolean}},emits:["update:modelValue","update:textValue"],setup(t,{expose:y,emit:l}){const n=t;let d=e.ref(!1),s=e.ref(!1),i=e.ref("");const p=/[\u0621-\u064A]/,m=e.ref(null),B=e.getCurrentInstance(),M=e.computed(()=>{var o;let a=B==null?void 0:B.parent;for(;a&&((o=a.vnode.el)==null?void 0:o.nodeName)!="FORM";)a=a.parent;return a});e.onMounted(()=>{var a,o;s.value=n.pattern?n.pattern.test((a=m.value)==null?void 0:a.value):!0,n.pattern&&!s.value&&((o=M==null?void 0:M.value)==null||o.exposed.registerToInvalids(n.id)),n.autoDirection&&g()});function b(a){const o=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi;return a.replace(o,(h,V)=>n.includedHtml&&n.includedHtml.includes(V.toLowerCase())?h:"")}function g(){m.value&&p.test(m.value.value[0])?i.value="rtl":i.value="ltr"}function c(){return s.value}function r(a){var o,h;!n.pattern||(n.pattern.test(a.toString())?(s.value=!0,(o=M==null?void 0:M.value)==null||o.exposed.removeFromInvalids(n.id)):(s.value=!1,(h=M==null?void 0:M.value)==null||h.exposed.registerToInvalids(n.id)))}function f(a){if(d.value=!0,l("update:textValue",a.currentTarget.value),!n.tags){let o=a.currentTarget.value;n.includedHtml&&(o=b(o)),n.transformer&&(o=n.transformer(o)),l("update:modelValue",o)}n.autoDirection&&g(),n.pattern&&r(a.currentTarget.value.trim())}function k(a){if(a.preventDefault(),!n.modelValue||!(n.modelValue instanceof Array)||n.maxlength&&n.maxlength<=n.modelValue.length||!s.value)return;const o=n.transformer?n.transformer(a.currentTarget.value):a.currentTarget.value,h=[...n.modelValue,o];l("update:modelValue",h),a.currentTarget.value="",d.value=!1}const $=e.ref("");function u(a){if(!(!n.modelValue||!(n.modelValue instanceof Array))){if(a.key=="Backspace"&&$.value===""){const o=[...n.modelValue];o.pop(),l("update:modelValue",o)}$.value=a.currentTarget.value}}return y({isValid:c}),(a,o)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass({MTEXT:!t.unstyled,"m-bordered":t.bordered,"m-tags":t.tags,"m-disabled":t.disabled})},[t.label?(e.openBlock(),e.createElementBlock("label",{key:0,for:t.id},e.toDisplayString(t.label),9,we)):e.createCommentVNode("",!0),e.createElementVNode("div",{onClick:o[3]||(o[3]=h=>{var V;return(V=m.value)==null?void 0:V.focus()})},[t.tags?(e.openBlock(),e.createBlock(e.TransitionGroup,{key:0,name:"fade"},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.modelValue,h=>(e.openBlock(),e.createElementBlock("span",{key:h},e.toDisplayString(h),1))),128))]),_:1})):e.createCommentVNode("",!0),e.createElementVNode("textarea",e.mergeProps({dir:e.unref(i),ref_key:"input",ref:m},a.$attrs,{id:t.id,onInput:o[0]||(o[0]=h=>f(h)),onKeydown:o[1]||(o[1]=e.withKeys(h=>t.tags?k(h):null,["enter"])),onKeyup:o[2]||(o[2]=h=>t.tags?u(h):null),rows:t.tags?1:t.rows,maxlength:t.tags?void 0:t.maxlength,disabled:t.disabled}),e.toDisplayString(t.tags?"":t.modelValue),17,Ee)]),e.createElementVNode("div",null,[t.pattern&&e.unref(d)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.unref(s)&&t.validMessage?(e.openBlock(),e.createElementBlock("span",Se,e.toDisplayString(t.validMessage),1)):e.createCommentVNode("",!0),!e.unref(s)&&t.invalidMessage?(e.openBlock(),e.createElementBlock("span",ve,e.toDisplayString(t.invalidMessage),1)):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),t.maxlength&&t.modelValue?(e.openBlock(),e.createElementBlock("span",Te,e.toDisplayString(t.maxlength-t.modelValue.length),1)):e.createCommentVNode("",!0)])],2))}}),at="",N=w(_e,[["__scopeId","data-v-f8190f30"]]),Ie=["onClick"],De=e.defineComponent({__name:"MSelect",props:{options:null,modelValue:null,multiple:{type:Boolean},id:null,placeholder:null,bordered:{type:Boolean},freeOptions:{type:Boolean},pattern:null,invalidMessage:null,validMessage:null,transformer:null,label:null,disabled:{type:Boolean},maxlength:null},emits:["update:modelValue"],setup(t,{emit:y}){const l=t;e.computed(()=>l.options.map(u=>u.label));const n=e.computed(()=>l.options.map(u=>u.value));function d(u){return l.options.find(a=>a.label===u)}function s(u){return l.options.find(a=>a.value===u)}const i=e.ref(""),p=e.ref([...l.modelValue]),m=e.ref();function B(){var a;const u={value:((a=d(i.value))==null?void 0:a.value)||i.value,label:i.value};r(u),$()}function M(u){let a=[];p.value.forEach(o=>{var V;const h={value:((V=d(o))==null?void 0:V.value)||o,label:o};a.push(h)}),f(a,u),i.value="",$()}e.watch(()=>l.modelValue,u=>{l.multiple&&(p.value=u.map(a=>{var o;return((o=s(a))==null?void 0:o.label)||a}))});function b(){m.value.openContent()}const g=u=>{setTimeout(()=>{m.value.shrink()},200),l.multiple||B()},c=u=>{l.multiple&&Array.isArray(l.modelValue)?f(u,"click"):r(u),$()};function r(u){!l.freeOptions&&!n.value.includes(u.value)||l.pattern&&!l.pattern.test(u.value)||(y("update:modelValue",u.value),i.value=u.label)}function f(u,a){let o=[];Array.isArray(u)?o=[...u]:o[0]=u;let h=new Set([...l.modelValue]);if(a==="backspace"&&!i.value){let x=Array.from(h);x.pop(),h=new Set(Array.from(x))}else o.forEach(x=>{!l.freeOptions&&!n.value.includes(x.value)||l.pattern&&!l.pattern.test(x.value)||(a==="click"&&h.has(x.value)?h.delete(x.value):h.add(x.value))});const V=Array.from(h);l.maxlength&&V.length>l.maxlength||y("update:modelValue",V)}e.onMounted(()=>{var a;l.pattern&&((a=k==null?void 0:k.value)==null||a.exposed.registerToInvalids(l.id));const u=l.options.filter(o=>o.selected)[0];u&&!l.multiple&&r(u),u&&l.multiple&&f(u)});const k=e.computed(()=>{var a,o;let u=(a=e.getCurrentInstance())==null?void 0:a.parent;for(;u&&((o=u.vnode.el)==null?void 0:o.nodeName)!="FORM";)u=u.parent;return u});function $(){var u;(u=k==null?void 0:k.value)==null||u.exposed.removeFromInvalids(l.id)}return(u,a)=>(e.openBlock(),e.createBlock(e.unref(v),{class:"MSELECT",ref_key:"drop",ref:m,unclicked:""},{summary:e.withCtx(()=>[t.multiple&&Array.isArray(l.modelValue)?(e.openBlock(),e.createBlock(e.unref(N),{key:0,id:t.id+"-search",tags:"",modelValue:p.value,"onUpdate:modelValue":a[0]||(a[0]=o=>p.value=o),"text-value":i.value,"onUpdate:text-value":a[1]||(a[1]=o=>i.value=o),onBlur:a[2]||(a[2]=o=>g()),onFocus:a[3]||(a[3]=o=>b()),onKeyup:[a[4]||(a[4]=e.withKeys(o=>M(),["enter"])),a[5]||(a[5]=e.withKeys(o=>M("backspace"),["delete"]))],placeholder:t.placeholder,bordered:t.bordered,pattern:t.pattern,"invalid-message":t.invalidMessage,validMessage:t.validMessage,transformer:t.transformer,label:t.label,disabled:t.disabled,maxlength:t.maxlength},null,8,["id","modelValue","text-value","placeholder","bordered","pattern","invalid-message","validMessage","transformer","label","disabled","maxlength"])):(e.openBlock(),e.createBlock(T,{key:1,modelValue:i.value,"onUpdate:modelValue":a[6]||(a[6]=o=>i.value=o),id:t.id+"-search",onBlur:a[7]||(a[7]=o=>g()),onFocus:a[8]||(a[8]=o=>b()),onKeyup:a[9]||(a[9]=o=>B()),placeholder:t.placeholder,bordered:t.bordered,pattern:t.pattern,"invalid-message":t.invalidMessage,validMessage:t.validMessage,transformer:t.transformer,label:t.label,disabled:t.disabled},{start:e.withCtx(()=>[e.renderSlot(u.$slots,"start",{},void 0,!0)]),end:e.withCtx(()=>[e.renderSlot(u.$slots,"end",{},void 0,!0)]),_:3},8,["modelValue","id","placeholder","bordered","pattern","invalid-message","validMessage","transformer","label","disabled"]))]),default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.options,(o,h)=>{var V;return e.openBlock(),e.createElementBlock(e.Fragment,null,[!i.value||((V=o.label)==null?void 0:V.toLowerCase().includes(i.value.toLowerCase()))?(e.openBlock(),e.createElementBlock("div",{key:0,onClick:x=>o.disabled?null:c(o),class:e.normalizeClass({"m-selected":t.modelValue.includes(o.value),"m-disabled":o.disabled})},e.toDisplayString(o.label),11,Ie)):e.createCommentVNode("",!0)],64)}),256))]),_:3},512))}}),ot="",H=w(De,[["__scopeId","data-v-92c161d8"]]),P=Object.freeze(Object.defineProperty({__proto__:null,MNotes:_,MButton:E,MP:S,MMenu:I,MPoppup:D,MDrop:v,MSlider:A,MForm:O,MInput:T,MSection:F,MText:N,MSelect:H},Symbol.toStringTag,{value:"Module"})),Ae=t=>{for(let y in P)t.component(y,P[y])},Oe=_,Fe=E,He=S,Pe=I,Le=D,ze=v,je=A,Ue=O,Re=T,Je=F,qe=N,Ke=H;C.MButton=Fe,C.MDrop=ze,C.MForm=Ue,C.MInput=Re,C.MMenu=Pe,C.MNotes=Oe,C.MP=He,C.MPoppup=Le,C.MSection=Je,C.MSelect=Ke,C.MSlider=je,C.MText=qe,C.install=Ae,Object.defineProperties(C,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
